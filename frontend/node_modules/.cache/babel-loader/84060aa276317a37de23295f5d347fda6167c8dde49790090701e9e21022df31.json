{"ast":null,"code":"import axios from \"axios\";\nconst API = axios.create({\n  baseURL: \"http://localhost:8082\"\n});\n\n// âœ… Attach JWT only for protected endpoints\nAPI.interceptors.request.use(req => {\n  // ðŸš« Skip auth endpoints\n  if (req.url && req.url.startsWith(\"/auth/\")) {\n    return req;\n  }\n  let token = sessionStorage.getItem(\"token\");\n  if (token) {\n    token = token.replace(/^\"+|\"+$/g, \"\").replace(/^Bearer\\s+/i, \"\").trim();\n    req.headers.Authorization = `Bearer ${token}`;\n  }\n  return req;\n});\n\n// âœ… LOGIN â€” backend already returns JSON { token, role }\nexport const login = async (email, password) => {\n  const res = await API.post(\"/auth/login\", {\n    email,\n    password\n  });\n  return res.data;\n};\nexport default API;","map":{"version":3,"names":["axios","API","create","baseURL","interceptors","request","use","req","url","startsWith","token","sessionStorage","getItem","replace","trim","headers","Authorization","login","email","password","res","post","data"],"sources":["/Users/kapilshinde/Desktop/Medisync/frontend/src/api/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API = axios.create({\n  baseURL: \"http://localhost:8082\"\n});\n\n// âœ… Attach JWT only for protected endpoints\nAPI.interceptors.request.use((req) => {\n\n  // ðŸš« Skip auth endpoints\n  if (req.url && req.url.startsWith(\"/auth/\")) {\n    return req;\n  }\n\n  let token = sessionStorage.getItem(\"token\");\n\n  if (token) {\n    token = token\n      .replace(/^\"+|\"+$/g, \"\")\n      .replace(/^Bearer\\s+/i, \"\")\n      .trim();\n\n    req.headers.Authorization = `Bearer ${token}`;\n  }\n\n  return req;\n});\n\n\n// âœ… LOGIN â€” backend already returns JSON { token, role }\nexport const login = async (email, password) => {\n  const res = await API.post(\"/auth/login\", { email, password });\n  return res.data;\n};\n\nexport default API;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE;AACX,CAAC,CAAC;;AAEF;AACAF,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,GAAG,IAAK;EAEpC;EACA,IAAIA,GAAG,CAACC,GAAG,IAAID,GAAG,CAACC,GAAG,CAACC,UAAU,CAAC,QAAQ,CAAC,EAAE;IAC3C,OAAOF,GAAG;EACZ;EAEA,IAAIG,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;EAE3C,IAAIF,KAAK,EAAE;IACTA,KAAK,GAAGA,KAAK,CACVG,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CACvBA,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,CAC1BC,IAAI,CAAC,CAAC;IAETP,GAAG,CAACQ,OAAO,CAACC,aAAa,GAAG,UAAUN,KAAK,EAAE;EAC/C;EAEA,OAAOH,GAAG;AACZ,CAAC,CAAC;;AAGF;AACA,OAAO,MAAMU,KAAK,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;EAC9C,MAAMC,GAAG,GAAG,MAAMnB,GAAG,CAACoB,IAAI,CAAC,aAAa,EAAE;IAAEH,KAAK;IAAEC;EAAS,CAAC,CAAC;EAC9D,OAAOC,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,eAAerB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}